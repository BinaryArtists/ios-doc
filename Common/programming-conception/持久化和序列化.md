## 持久化和序列化的关系（未整理）

  1. [持久化和序列化的关系](http://www.mamicode.com/info-detail-582834.html)

### 正文

Hibernate

Hibernate是轻量级Java EE应用的持久层解决方案，Hibernate不仅管理者Java类到数据库表的映射（包括Java 数据类型到SQL数据类型的映射），还提供数据查询和获取数据的方法，可以大幅度的缩短使用JDBC处理数据持久化的时间。

目前主流的数据库依然是关系型，如db2.oracle

对象关系数据库映射(ORM  object/relation mapping):Hibernate ORM，其作用就是去映射对象和关系型数据库的，以达到程序中的业务逻辑和数据访问组件相分离。java是面向对象编程，它完成了对象模型和基于SQL的关系模型的映射关系，Hibernate允许开发者使用面向对象的方式来操作关系型数据库。

Hibernate则采用低侵入式的设计，即采用普通的Java对象（POJO），而不必继承Hibernate 的某个超类或者实现Hibernate的某个接口。

Hibernate 的支持，使得JavaEE应用的OOA （面向对象分析）、OOD（面向对象设计）和OOP（面向对象编程）但到了持久层数据库访问时，又必须重返关系型数库的访问方式

ORM是面向对象程序设计语言与关系型数据库发展不同步时的中间解决方案。随着面向对象数据库的发展 ，其理论逐步完善，最终会取代关系型数据库。只不过这个过程不会一蹴而就，ORM框架在此期间仍将蓬勃发展。但是随着面对对象数据库的出现，ORM工具会自动的消亡。

面向对象的优势：

（1）面向对象的建模、操作

（2）多态、继承

（3）摒弃难以理解的过程

（4）简单易用易理解

关系型数据库优势：

（1）大量数据的查找和排序

（2）集合数据连接操作、映射

（3）数据库访问的并发、事务

（4）数据库的约束和隔离

当我们采用ORM框架之后，应用程序不再直接访问底层的数据库，而是以面向对象的方式来操作持久化对象（例如创建、修改、删除等），而ORM框架则将这些面向对象操作转换成底层的SQL操作。

### 场景

什么情况下需要序列化
a）当你想把的内存中的对象写入到硬盘的时候；
b）当你想用套接字在网络上传送对象的时候；
c）当你想通过RMI传输对象的时候；
再稍微解释一下:a)比如说你的内存不够用了，那计算机就要将内存里面的一部分对象暂时的保存到硬盘中，等到要用的时候再读入到内存中，硬盘的那部分存储空间就是所谓的虚拟内存。在比如过你要将某个特定的对象保存到文件中，我隔几天在把它拿出来用，那么这时候就要实现Serializable接口；
b)在进行java的Socket编程的时候，你有时候可能要传输某一类的对象，那么也就要实现Serializable接口；最常见的你传输一个字符串，它是JDK里面的类，也实现了Serializable接口，所以可以在网络上传输。
c)如果要通过远程的方法调用（RMI）去调用一个远程对象的方法，如在计算机A中调用另一台计算机B的对象的方法，那么你需要通过JNDI服务获取计算机B目标对象的引用，将对象从B传送到A，就需要实现序列化接口。
对象要实现序列化，是非常简单的，只需要实现Serializable接口就可以了。
public class Test implements Serializable

### 持久化

持久化就是把内存中的对象保存到外存中，让以后能够取回。而保存和取回的过程就是经过序列化和对象io完成的。
序列化是为了解决对象的传输问题，使对象传输可以在线程之间、进程之间、内存外存之间、主机之间进行。我之所以在这里提到序列化，是因为我们可以利用序列化来辅助持久化。

### 序列化 反序列化

序列化和反序列化
对象通过写出描述自己状态的数值（serialVersionUID）来记录自己 ，这个过程叫对象的串行化(Serialization) 。串行化的主要任务是写出对象实例变量的数值以控制持久化对象的版本。如果该变量是另一对象的引用，则引用的对象也要串行化。这个过程是递归的。
