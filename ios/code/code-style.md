## 写代码

### [iOS开发编码建议与编程经验](http://www.cocoachina.com/ios/20160324/15727.html)

  * 1. 任意函数长度不得超过50行。（其实很容易就超过50行，这就要考虑代码抽取了。）

  * 2. 任意行代码不能超过80字符。（其实也很容易超过80字符，可以考虑多行显示，比如有多个参数时，可以每个参数放一行。）可以在Xcode中设置超过80个字符的提醒，选中“Page guide at column”.设置完之后就会在代码80个字符处有一条竖线。
  * 3. 在每个方法的定义前留白一行，也就是在方法和方法之间留空一行。
  * 4. 功能相近的方法要放在一起，并推荐使用#pragma mark - *** 来导航代码，切分代码块。这样可以方便函数的查找。并且可以使用快捷键control+6 来快速查找方法的位置。
  * 5. 二元运算符和参数之间要有一个空格，如赋值号=左右各留一个空格。
  ```
  self.myString = @"235423rew523452345";
  ```
  * 6. 一元运算符和参数之间不放置空格，比如！非运算符，&按位与，|按位或。
  ```
  BOOL isOpen = true;  
  BOOL isClose = !isOpen;
  ```
  * 7. 强制类型转换和参数之间不放置空格。
  ```
  NSString *str3 = (NSString*)self.myString;
  ```
  * 8. 长的变量值应该拆分为多行。尤其体现在使用数组或者字典。以下也分别是快速声明数组@[]和字典@{}的方法。
  ```
  NSArray *array = @[@"111",  
                     @"2222222222",  
                     @"3333333",  
                     @"wwwwwwwwwwww"  
                     ];

                       @"age":@"20",  
                       @"gender":@"female",  
                       @"isMarried":@"false"  
                       };
  ```
  * 9. 尽量使用有意义的名字命名，拒绝使用i,j等无意义字符命名。类的命名首字母大写，其他变量的命名首字符小写，并使用驼峰式分割单词。
  * 10. 尽量减少在代码中直接使用数字常量，而使用宏定义等方式。如：MAX_NUMBER_PHONE替代8等等。这样我们搜索也比较方便。
  * 11. 尽量减少代码中的重复计算，比如代码中多处要使用屏幕宽度，然后计算：[[UIScreenmainScreen] bounds].size.width ,很多次，闲得很繁琐，代码也冗长。不如直接宏定义：
  ```
  #define SCREEN_WIDTH ([[UIScreen mainScreen] bounds].size.width)
  ```
  * 12. 合理使用约定俗成的缩略词：
```
alloc:分配；
alt：轮流，交替；
app:应用程序；
calc：计算；
dealloc：销毁、析构；
func：函数、方法；
horiz：水平的；
info：信息；
init：初始化；
max：最大的；
min：最小的；
msg：消息；
nib：Interface Builder；
rect：矩形；
temp：暂时的；
vert：垂直的；
```
  * 13. 宏定义全部字母大写。
  * 14. 函数长度不要超过50行，小函数比大函数可读性更强。函数的参数不宜过多，零元函数最好，一元函数也不错，高于三元的函数虚重构。
  * 15. 合理范围内使用链式编程:
```
NSString *myName = [[NSString alloc] init];
但是嵌套不宜超过3层，超过3层需进行重构。
```
  * 16. 函数调用时所有参数在同一行。如果参数过多，则可以每行一个参数，每个参数以冒号对齐。
  * 17. 对传入参数的保护或者说是否为空的判断，尽量不要使用if(!obj),而使用NSAssert断言来处理。NSAssert是系统定义的宏。
  ```
NSAssert(myName != nil, @"myName参数为空");
如果条件判断为真，则程序继续执行。
如果判断条件为假，则抛出异常，异常内容为后面定义的字符串。
  ```
  * 18. 方法参数名前一般使用"an","the","new"来进行修饰。如：
```
-(void)setPersonInfo:(NSString*)theID theName:(NSString*)theName theAge:(NSInteger*)theAge
```
  * 19. if-else超过四层的时候，就要考虑重构，多层的if-else结构很难维护。
  * 20. 当需要一定条件才执行某项操作时，最左边的应该是最重要的代码，不要将最重要的代码内嵌到if中。如良好的风格是：
  ```
- (void) someMethod {  
if(![someOther boolValue]) {  
   return;  
  }  
//最重要的代码写在这里；  
}
反面教材:
- (void) someMethod {  
if([someOther boolValue]) {   
     //重要代码；  
  }  
}
  ```
  * 21. 所有的逻辑块都使用{}花括号包围，就算只是一行代码。
  * 22. 明确指定构造函数，并有适当的注释。
  * 23. 不要在init方法中把变量或者说属性初始化为0或者nil，因为没有必要。
  * 24. UIView的子类初始化的时候，不要进行任何的布局操作。布局操作应该在layoutSubviews里面做；需要重新布局的时候调用setNeedsLayout，而不要直接调用layoutSubviews。
  * 25. 保持公共API简单，也就是保持.h文件简单。放在.h中声明的函数都是会被公开的，如果根本就没必要对其他类公开，再不要在.h中声明。OC中的方法都是公有方法，没有私有方法一说。
  * 26. 一个文件只实现一个类。同一个文件中不要有多个类。
  * 27. Protocol单独用一个文件来创建，尽量不要与相关类混在一个文件中。
  * 28. 在类定义中使用到自己定义类的时候，尽量不要在头文件中引入自己定义类的头文件，使用@class替代。而在实现文件中引入头文件。
  * 29. 布局时尽量使用相对布局，比如使用子View在父View中的相对位置。
  * 30. 代码折叠，这个可能是关于开发效率的，我也写在编码规范中，因为这个很有用。Xcode7默认没有开启代码折叠，如果你的方法体行数很长，看起来会很不方便，此时你就可以把方法“收起来”，一个类中的结构就会很清晰。开启方法如下：Xcode菜单-->Preferences-->Text Editing-->勾选Code folding ribbon.
  * 31. 推荐方法的第一个花括号直接跟在方法体后，而不是另起一行，这样可以减少代码行。
  * 32. 推荐方法体中的第一行留空，最后一行不留空，这样一个方法就会比较清晰。
  * 33. block中第一行也要留空，同方法体中的第一行留空，使代码清晰。
  * 34. 代表类方法和实例方法的"+"加号,"-"减号后需要一个空格。这是一个非常小的细节，系统默认的方法都是这样的，我们自己声明或者实现一个方法的时候也需要这样：
  * 35. 这一条有点像编程经验了，就是为解决某个问题估算时间。比如要开发某个功能、调试某个bug、给自己一个时间限制，如果在这期间不能解决问题，那么就去寻求帮助。这既是给自己一个压力，也为了不浪费时间。虽然，这一条其实很难做到，我往往由于不甘心而无限拖延时间去解决问题。
  * 36. 由于提到编程经验，就不得不提到版本控制。务必去学会SVN或者Git，就算你是独立开发，也要学会控制自己的代码，当然，你要经常备份你的代码。

### ???????
