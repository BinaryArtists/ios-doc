## 讲讲库：framework、static library、dynamic library

参考链接：
  1. [iOS的主要框架介绍](http://blog.csdn.net/yuhuangc/article/details/7575519)
  2. [iOS库--.a与.framework](http://www.tuicool.com/articles/7J7vai)
  3. [iOS 动态库与静态库的区别（framework,.a,.dylib）](http://www.th7.cn/Program/IOS/201503/405727.shtml)
  4. [如何为iOS项目开发Framework](http://ios.jobbole.com/81583/)

### 目录
* [1. 库](#1)
* [2. 静态库](#2)
* [3. 动态库](#3)
* [4. 框架（framework)](#4)

<h3 id="1">库</h3>

库是共享程序代码的方式，一般分为静态库和动态库。

<h3 id="2">静态库</h3>

1. 静态库：链接时完整地拷贝至可执行文件中，被多次使用就有多份冗余拷贝。
2. iOS里静态库形式：.a和.framework
3. 好处：
    * 模块化，分工合作
    * 避免少量改动经常导致大量的重复编译连接
    * 也可以重用，注意不是共享使用

<h3 id="3">动态库</h3>

1. 动态库：链接时不复制，程序运行时由系统动态加载到内存，供程序调用，系统只加载一次，多个程序共用，节省内存。
2. iOS里动态库形式：.dylib和.framework
3. 好处：
    * 使用动态库，可以将最终可执行文件体积缩小
    * 使用动态库，多个应用程序共享内存中得同一份库文件，节省资源
    * 使用动态库，可以不重新编译连接可执行程序的前提下，更新动态库文件达到更新应用程序的目的。

    从1可以得出，将整个应用程序分模块，团队合作，进行分工，影响比较小。
    从2可以看出，其实动态库应该叫共享库，那么从这个意义上来说，苹果禁止iOS开发中使用动态库就可以理解了：
    > 因为在现在的iPhone，iPodTouch，iPad上面程序都是单进程的，也就是某一时刻只有一个进程在运行，那么你写个共享库，
    > 共享给谁？（你使用的时候只有你一个应用程序存在，其他的应该被挂起了，即便是可以同时多个进程运行，别人能使用你的共享库里的东西吗？你这个是给你自己的程序定制的。）
    > 目前苹果的AppStore不支持模块更新，无法更新某个单独文件(除非自己写一个更新机制：有自己的服务端放置最新动态库文件)


<h3 id="4">什么是框架（framework)？</h3>

1. 是什么？
     框架是一个目录，这个目录包含了共享库，访问共享库里代码的头文件，和其它的图片和声音的资源文件。一个共享库定义的方法或函数可以被应用程序调用。

2. 怎么用？
    * Build Phases -> Link Binary With Libraries 中添加
    * 要使用一个框架，需要将它添加到你的项目中，你的项目才可以使用它。许多应用程序都使用了如Foundation、UIKit、和Core Graphics这些框架。根据你为应用程序选择的模版，相关的框架就已经被自动引入了。如果默认加入的框架不能满足你的应用程序的需求，你也可以加入需要的框架。

3. 系统的.framework是动态库，我们自己建立的.framework是静态库。此时，.framework 可以认为是一个包裹着.a的空壳子。

4. 与上面两者，framework有什么分别呢？
    * .a是一个纯二进制文件，.framework中除了有二进制文件之外还有资源文件。
    * .a文件不能直接使用，至少要有.h文件配合，.framework文件可以直接使用。
    * .a + .h + sourceFile = .framework。
    建议用.framework.
